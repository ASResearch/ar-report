% !TEX root = main.tex

\section{背景及相关技术}
%\subsection{讨论}
%主要参考nem白皮书，背景：缺少价值尺度
%pos：stake
%pow：computation power
%poa：
%poi：

%neb：用statke，鼓励资产流通，需要引入流通性，but 容易受到sybil attack
%现有算法 e.g. page rank

%我们的工作基于前人的工作
本章主要介绍区块链发展背景以及相关技术。鉴于目前的区块链生态之上价值衡量尺度的缺失，我们进一步讨论了经典排名算法在区块链领域应用的情况以及其缺陷。

\subsection{区块链发展现状}


2008年10月，中本聪（Satoshi Nakamoto）公开发表比特币白皮书~\cite{Nakamoto2008}。比特币作为区块链的太初应用，践行了其作为“一个去中心化电子现金系统”的初衷。 比特币的产生不依赖于任何机构，而是根据特定算法，依靠大量计算产生，保证了比特币网络分布式记账系统的一致性。

通过特定的脚本语言，我们可以利用比特币实现第三方支付交易、高效小额支付（efficient micro-payments）等功能。此后涌现出许多以比特币为参照的试验品，在提供基本的货币属性外，作出了更多的尝试。
例如早期的域名币（Namecoin）~\cite{Namecoin}提供了一种去中心化的域名系统DNS。以及基于“货币染色（Colored coins）”的开放资产项目（OpenAssets）~\cite{OpenAssets}，其本质都是模仿比特币，利用可追溯性，又复制了一份智能资产。

%后续其他数字货币支持赌博、股票发行、市场预测等。

很遗憾的是，比特币脚本语言的设计存在很多缺陷，如仅支持较少指令，且并不具备图灵完备性，这使得其应用场景受限。

随着区块链技术研究的不断深入，涌现了更多后继者，尝试拓展和添加更多与应用程序相关的功能。其中最令人瞩目的实现是以太坊（Ethereum）~\cite{buterin2013ethereum}。以太坊突破性地提供了图灵完备的智能合约（Smart Contracts），从而大幅拓展了应用场景。

智能合约是区块链系统中可以用技术手段来强制执行的合约，以太坊智能合约运行在以太坊虚拟机（Ethereum Virtual Machine）上，以太坊虚拟机不受任何实体控制，通过共识算法来验证合约本身及其输出的完整性。

基于以太坊的智能合约，人们得以开发能实现复杂功能的分布式应用（DApp）。除了基本交易功能外，DApp为众多领域提供了解决方案，如投票、众筹、借贷、知识产权等。

以太坊成功拓展了区块链的可能性，但以太坊缺少价值衡量标准，导致潜在杀手级应用的落地和推广存在困难。

对于支持智能合约的区块链系统，其账户通常包括外部账户（Externally owned account，EOA）和智能合约账户，对于这两类账户目前尚缺少合理的评价指标。同时，在诸多交易以及智能合约的调用过程中，隐藏着难以估计的信息。后者相比传统交易数据，往往具有更多维度，因此也无法使用传统价值衡量标准评估。

其实，早在2015年，Chris Skinner便提出了“价值网络（value web）”的理念~\cite{ChrisSkinner}，其中提到，一个价值经济系统（Value ecosystem）应包括价值交换（value exchanges）、价值存储（value stores）以及价值管理系统（value management systems）三部分，缺一不可。同时Chris也指出，对于比特币等数字加密货币来说，价值网络的衡量相比传统社会价值有着明显不同，挑战更大。




%现在链超多，跨链需要衡量价值。。。


\subsection{图中节点的排名算法}

由于引入了智能合约，当前以以太坊为代表的新一代区块链项目不仅仅是电子货币交易平台，而是在此之上建立了复杂庞大的经济体系。尚不存在一个合理的方式去评估链上实体（例如用户地址）的价值。例如，目前我们无法知晓哪些实体对整个区块链生态贡献较大？又应如何衡量这类贡献？

在此，需要先提到一个大家比较熟悉的传统互联网领域价值衡量标准：PageRank算法~\cite{page1999pagerank}。作为Google早期的核心算法，PageRank设计初衷是用于解决链接分析中网页排名问题。随着国内外学者的深入研究，PageRank算法被广泛应用于其它方面，例如学术论文的重要性排名、网络爬虫、关键词句抽取，以及基于PageRank的社交用户影响力排名研究等等。

学术界已将PageRank算法应用于区块链的研究，比如Fleder、Kester、Pillai等人~\cite{Fleder2015} 使用PageRank来帮助发现感兴趣的比特币地址，并分析这些地址的活动。但他们的主要方法仍然是人工主观分析，PageRank只起到辅助作用。

作为诞生于互联网2.0时期的经典排名算法，PageRank算法应用于在线社会网络影响力评估存在局限性。

此后涌现出了一些其它在PageRank算法基础上进行改良的研究，其中较为著名的包括LeaderRank算法 ~\cite{Li2014}，它是PageRank的一种拓展形式。在PageRank中，每个节点都有相同的随机跳转概率，而LeaderRank 是对跳转概率简单有效的改进。通过在网络中添加 背景节点和加权的双向链接，可以使得不同节点具有不同的随机跳入和跳出概率。

%LeaderRank算法的基本思想是在整个网络已有节点外另外增加一个背景节点（Ground Node），并且将其与已有所有节点建立双向连接，使得N+1个节点的新网络成为一个强连通网络，在此基础上基于类似PageRank算法计算，可以得到原有N个节点的“重要性”排序。
而LeaderRank也存在一定局限性，其只考虑了节点之间的关系（即网络结构），通过迭代得出最后影响力排名，缺乏对用户行为的衡量。

需要指出的是，PageRank类排名算法无法应对女巫攻击（sybil attacks）~\cite{cheng2006manipulability}，女巫攻击是指攻击者通过创建大量的假名标识来破坏对等网络的评价系统，从而获得虚假的高重要性评分。


和星云指数最相关的项目是NEM~\cite{nem}，不同于比特币的Proof-of-Work以及以太坊的Proof-of-Stake共识策略，NEM设计了Proof-of-Importance 共识机制，其中排名算法NCDawareRank~\cite{Nikolakopoulos2013}利用了网络拓扑的社群效应。Proof-of-Importance使用SCAN~\cite{xu2007scan}~\cite{shiokawa2015scan}~\cite{chang2017mathsf}作为社群聚类算法。虽然社区结构在交易网络的确存在并且可以帮助应对欺诈节点，却 无法保证同一个实体对应节点一定可以映射到相同社群，因此利用社区划分的结果会提供一定的可操纵空间。

%Nebulas Rank 的加权机 制部分参考了 Li et al. [32] 的设计，使得入度更大的点更有可能被随机跳转到达。通过添加 LeaderRank 算法中的背景节点，可以取得更符合区块链场景的排名结果。

\subsection{对抗操纵}

提升可信性，即具备抵抗操纵的能力，是核心星云指数最重要同时也是最具挑战的目标。

Hopcroft等人发现，在存在恶意操控的情况下，PageRank无法有效衡量用户的影响力~\cite{hopcroft2007manipulation}。Zhang等人指出，在社交网络中，即便建立了节点的影响评价指标，攻击者仍然能够有效削弱其他非僵尸用户的影响力~\cite{zhang2016truetop}。
针对PageRank算法的典型女巫攻击——环形攻击（two-loop attack）就是一例。以女巫节点$s$发起到目的节点
$v_j$以及从$v_j$返回到$s$的Random walk，尽可能多地访问其它节点，从而增加$v_j$的访问概率。

这是因为从本质上而言，PageRank类算法依赖于网络拓扑结构对用户进行排名，而在对称网络（symmetric Network）下，恶意操纵者非常容易通过构建镜像网络来获取同样甚至更高的影响力~\cite{cheng2005sybilproof}~\cite{cheng2006manipulability}。


在区块链生态中，部分恶意操纵的手段通常有以下几种:
\begin{enumerate}
\item 环形转账，攻击者沿环形拓扑，让同一笔资金不断流过对应的边，以提高边权；
\item 向其它任意账户转钱，提高出度，并且提高资金流出的传播性；
\item 控制多个账户形成独立分支，伪造中心节点；
\item 频繁同权威交易所账户交易，多次在交易所账户中取入取出同一笔资金，获得较好的网络结构位置。
\end{enumerate}

因此我们在设计核心星云指数时，需要考虑到上述情况，来保证核心星云指数的公平性。




%博弈论相关工作了解一下
%看着还行，但是假设太强，抗操纵性不行的。
